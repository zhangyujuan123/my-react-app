{"version":3,"sources":["Todolist/Todolist.js","Todolist/Input.js","Todolist/List.js","index.js"],"names":["Todolist","addItem","data","setState","todo","state","localStorage","setItem","JSON","stringify","delItem","idx","e","splice","props","console","log","filter","item","index","changeItem","done","dolength","len","i","length","getItem","a","eval","this","add","show","del","change","Component","Input","handleInput","keyCode","val","target","value","type","name","onKeyDown","List","map","key","onClick","title","bind","checked","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4273896d.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport Input from './Input'\r\nimport List from './List';\r\n\r\nexport default class Todolist extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            todo:[]\r\n        }\r\n    }\r\n    addItem = (data)=>{\r\n        // this.state.todo.push(data);\r\n        this.setState({\r\n            todo: [...this.state.todo,data]\r\n        },()=>{\r\n            localStorage.setItem('todo',JSON.stringify(this.state.todo))\r\n        })\r\n    }\r\n    delItem=(idx,e)=>{\r\n        let todo=[...this.state.todo];\r\n        todo.splice(idx,1);\r\n        this.setState((state,props)=>{\r\n            console.log(state.todo);   //拿到的是前一个state的todo\r\n            return {\r\n                todo:state.todo.filter((item,index)=>idx!==index)\r\n            }\r\n        },()=>{\r\n            localStorage.setItem('todo',JSON.stringify(this.state.todo))\r\n        })\r\n    }\r\n    changeItem=(idx)=>{\r\n        let todo=[...this.state.todo];\r\n        if(todo[idx].done=='true'){\r\n            todo[idx].done='false';\r\n        }\r\n        else{\r\n            todo[idx].done='true';\r\n        }\r\n        this.setState((state,props)=>{\r\n            console.log(state.todo);\r\n            return {\r\n                todo:todo\r\n            }\r\n        },()=>{\r\n            localStorage.setItem('todo',JSON.stringify(this.state.todo))\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        if(localStorage.getItem('todo')){\r\n            let a=eval(localStorage.getItem('todo'));\r\n            this.setState({\r\n                todo:a\r\n            })\r\n        }\r\n    }\r\n    dolength=()=>{\r\n        let todo=[...this.state.todo];\r\n        var len=0;\r\n        for(var i=0;i<todo.length;i++){\r\n            if(todo[i].done=='true'){\r\n                len++;\r\n            }\r\n        }\r\n        return len;\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Input add={this.addItem}/>\r\n                <List show={this.state.todo} del={this.delItem} change={this.changeItem} len={this.dolength}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Input extends Component {\r\n    handleInput = (e)=>{\r\n        if(e.keyCode===13){\r\n            var val={'title':e.target.value,'done':'true'};\r\n            this.props.add(val);\r\n            e.target.value='';\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Todolist</h2>\r\n                <input type=\"text\" name=\"inp\" onKeyDown={this.handleInput}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class List extends Component {\r\n    delItem=(idx,e)=>{\r\n        this.props.del(idx);\r\n    }\r\n    render() {\r\n        var {show}=this.props;\r\n        return (\r\n                <ul>\r\n                <h2>正在进行--------{this.props.len()}</h2>\r\n                {\r\n                    show.map((item,idx)=>{\r\n                        if(item.done=='true'){\r\n                            return <li key={idx}><input type=\"checkbox\" name={idx} onClick={()=>this.props.change(idx)}/>{item.title}------------<button onClick={this.delItem.bind(this,idx)}>删除</button></li>\r\n                        }\r\n                    })\r\n                }\r\n                <h2>已经完成--------{show.length-this.props.len()}</h2>\r\n                {\r\n                    show.map((item,idx)=>{\r\n                        if(item.done=='false'){\r\n                            return <li key={idx}><input type=\"checkbox\" name={idx} onClick={()=>this.props.change(idx)} checked/>{item.title}------------<button onClick={this.delItem.bind(this,idx)}>删除</button></li>\r\n                        }\r\n                    })\r\n                }\r\n                </ul>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Todolist from './Todolist/Todolist';\n\n\n\n\nReactDOM.render(<Todolist />, document.getElementById('root'));\n\n"],"sourceRoot":""}